!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class t{constructor(e,t,s,r,i){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButtonClick=r,this._handleLikeButtonClick=i}_setCardImageListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._cardImage)}))}_checkLiked(){this._isLiked&&this._likeButton.classList.add("card__like-button_active")}_toggleLike=()=>{this._isLiked=!this._isLiked,this._likeButton.classList.toggle("card__like-button_active")};_setLikeButtonListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButtonClick(this._id,this._isLiked,this._toggleLike)}))}_setTrashButtonListeners(){this._trashButton.addEventListener("click",(()=>{this._handleDeleteButtonClick(this._id)}))}createCard(){return this._cardElement=this._cardSelector.cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardDesc=this._cardElement.querySelector(".card__description"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._trashButton=this._cardElement.querySelector(".card__trash-button"),this._cardDesc.textContent=this._name,this._cardImage.src=this._link,this._cardImage.setAttribute("alt",this._name),this._cardElement.setAttribute("id",this._id),this._setCardImageListeners(),this._setLikeButtonListeners(),this._setTrashButtonListeners(),this._checkLiked(),this._cardElement}}class s{constructor(e,t){this._options=e,this._formElement=t,this._inputElements=Array.from(this._formElement.querySelectorAll(this._options.inputSelector)),this._submitButton=this._formElement.querySelector(this._options.submitButtonSelector),this._inputErrorClass=this._options.inputErrorClass,this._errorClass=this._options.errorClass,this._inactiveButtonClass=this._options.inactiveButtonClass}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputElements.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableFormButton():this.enableFormButton()}_setEventListeners(){this._toggleButtonState(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}disableFormButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableFormButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetFormValidation(){this._inputElements.forEach((e=>{this._checkInputValidity(e)}))}}class r{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close-button"),this._handleEscClose=e=>{"Escape"===e.key&&this.close()}}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close())),this._popupElement.addEventListener("click",(e=>{e.target===this._popupElement&&this.close()}))}open(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.classList.add("modal_opened")}close(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.classList.remove("modal_opened")}}class i extends r{constructor(e,t,s){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._popupFormInputs=this._popupElement.querySelectorAll(".modal__input"),this._popupButton=this._popupElement.querySelector(".modal__button"),this._handleFormSubmit=t,this._defaultButtonText=s,this._handleSubmitListener=e=>{e.preventDefault(),this._popupButton.textContent="Saving...";const t=this._getInputValues();this._handleFormSubmit(t).then((()=>{this.close()})).catch((e=>{console.error(e)})).finally((()=>{setTimeout((()=>{this._popupButton.textContent=this._defaultButtonText}),500)}))},this.setEventListeners()}_getInputValues(){const e={};return this._popupFormInputs.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._popupFormInputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._popupForm.addEventListener("submit",this._handleSubmitListener),super.setEventListeners()}}const n=new i("#avatar-modal",(function(e){const t=e.url;return b.patchAvatar(t).then((()=>{d.setUserAvatar(t)})).then((()=>{m.disableFormButton(),c.reset()})).catch((e=>(console.error(e),Promise.reject(`Error: ${e}`))))}),"Save"),o=new i("#edit-modal",(function(e){return b.patchUserInfo(e).then(d.setUserInfo(e)).catch((e=>(console.error(e),Promise.reject(`Error: ${e}`))))}),"Save"),a=new i("#add-modal",(function(e){const t={name:e.title,link:e.url};return b.postNewCard(t).then((e=>{L.addItem(k(e))})).then((()=>{E.disableFormButton(),_.reset()})).catch((e=>(console.error(e),Promise.reject(`Error: ${e}`))))}),"Save"),l=new i("#delete-modal",(function(){return b.deleteCard(v.id).then((()=>{let e=document.getElementById(v.id);e.remove(),e=null})).catch((e=>(console.error(e),Promise.reject(`Error: ${e}`))))}),"Yes"),h=new class extends r{constructor(e){super({popupSelector:e}),this._popupImage=this._popupElement.querySelector(".modal__image"),this._popupDescription=this._popupElement.querySelector(".modal__image-footing")}open(e){let{name:t,link:s}=e;this._popupImage.src=s,this._popupImage.alt=`This is a picture of ${t}`,this._popupDescription.textContent=t,super.open()}}("#image-modal"),c=document.forms["avatar-form"],u=document.forms["profile-form"],_=document.forms["add-card-form"],d=new class{constructor(e){let{nameSelector:t,aboutSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._aboutElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._aboutElement.textContent=s}setUserAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__name",aboutSelector:".profile__description",avatarSelector:".profile__image"}),m=new s(e,c),p=new s(e,u),E=new s(e,_),v={id:""},b=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_getUserAvatar(){return this._request(`${this._baseUrl}/users/me/avatar`,{headers:this._headers})}_getUserData(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}_getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}returnData(){return Promise.all([this._getUserData(),this._getInitialCards()])}patchUserInfo(e){let{name:t,about:s}=e;return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}patchAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}postNewCard(e){let{name:t,link:s}=e;return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}addLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"3f4287cc-0267-4f84-80ed-88627a1cce84","Content-Type":"application/json"}});b.returnData().then((e=>{let[t,s]=e;d.setUserAvatar(t.avatar),d.setUserInfo(t),L.renderItems(s)})).catch((e=>{console.error(e)}));const f=document.querySelector("#card__template").content.firstElementChild,k=e=>new t(e,f,I,B,y).createCard(),L=new class{constructor(e,t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}((e=>{const t=k(e);L.addItem(t)}),".gallery__cards"),S=document.querySelector(".profile__image-button"),g=document.querySelector(".profile__edit-button"),C=document.querySelector(".profile__add-button");function I(e){const t={name:e.alt,link:e.src};h.open(t)}function B(e){v.id=e,l.open()}function y(e,t,s){return v.id=e,t?b.removeLike(v.id).then((()=>{s()})).catch((e=>{console.error(e)})):b.addLike(v.id).then((()=>{s()})).catch((e=>{console.error(e)}))}h.setEventListeners(),p.enableValidation(),E.enableValidation(),m.enableValidation(),S.addEventListener("click",(function(){n.open()})),g.addEventListener("click",(function(){const e=d.getUserInfo();console.log(e),o.setInputValues(e),p.enableFormButton(),o.open()})),C.addEventListener("click",(function(){a.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU02RCxFQUFJd0UsSUFDVm5JLEtBQU0yRCxFQUFJakMsS0FFWnNHLEVBQVd2RCxLQUFLZ0gsRUFDbEIsQ0E2REEsU0FBUy9MLEVBQXlCMkssR0FDaEN4QyxFQUFjbEYsR0FBSzBILEVBQ25CMUMsRUFBWWxELE1BQ2QsQ0FlQSxTQUFTOUUsRUFBdUIwSyxFQUFRbEssRUFBU3VMLEdBRS9DLE9BREE3RCxFQUFjbEYsR0FBSzBILEVBQ2ZsSyxFQUNLbUcsRUFDSmlFLFdBQVcxQyxFQUFjbEYsSUFDekI0QyxNQUFLLEtBQ0ptRyxHQUFZLElBRWJsRyxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBR2ZhLEVBQ0pnRSxRQUFRekMsRUFBY2xGLElBQ3RCNEMsTUFBSyxLQUNKbUcsR0FBWSxJQUVibEcsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxHQUcxQixDQUlBdUMsRUFBV3pELG9CQUNYeUUsRUFBcUJ0RixtQkFDckIrRCxFQUFxQi9ELG1CQUNyQmdELEVBQW9CaEQsbUJBR3BCNEgsRUFBYTVLLGlCQUFpQixTQTdHOUIsV0FDRXdGLEVBQWdCekIsTUFDbEIsSUE0R0E4RyxFQUFXN0ssaUJBQWlCLFNBekY1QixXQUNFLE1BQU1pTCxFQUFjbkYsRUFBU29DLGNBQzdCbEQsUUFBUWtHLElBQUlELEdBQ1o1RSxFQUFpQmYsZUFBZTJGLEdBQ2hDM0MsRUFBcUIxRixtQkFDckJ5RCxFQUFpQnRDLE1BQ25CLElBb0ZBK0csRUFBYzlLLGlCQUFpQixTQXpFL0IsV0FDRXdHLEVBQWlCekMsTUFDbkIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWQUxJREFUT1IgT1BUSU9OU1xyXG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcubW9kYWxfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcubW9kYWxfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5tb2RhbF9fYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnbW9kYWxfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAnbW9kYWxfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdtb2RhbF9fZXJyb3JfdmlzaWJsZSdcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvciAoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUJ1dHRvbkNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lXHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rXHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkXHJcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3JcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrXHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b25DbGljayA9IGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrXHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uQ2xpY2sgPSBoYW5kbGVMaWtlQnV0dG9uQ2xpY2tcclxuICB9XG5cclxuICBfc2V0Q2FyZEltYWdlTGlzdGVuZXJzICgpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9jYXJkSW1hZ2UpXHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIF9jaGVja0xpa2VkICgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJylcclxuICAgIH1cclxuICB9XG5cclxuICBfdG9nZ2xlTGlrZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSAhdGhpcy5faXNMaWtlZFxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKVxyXG4gIH1cblxyXG4gIF9zZXRMaWtlQnV0dG9uTGlzdGVuZXJzICgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b25DbGljayh0aGlzLl9pZCwgdGhpcy5faXNMaWtlZCwgdGhpcy5fdG9nZ2xlTGlrZSlcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgX3NldFRyYXNoQnV0dG9uTGlzdGVuZXJzICgpIHtcclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b25DbGljayh0aGlzLl9pZClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkICgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFNlbGVjdG9yLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJylcclxuICAgIHRoaXMuX2NhcmREZXNjID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2Rlc2NyaXB0aW9uJylcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKVxyXG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdHJhc2gtYnV0dG9uJylcclxuICAgIHRoaXMuX2NhcmREZXNjLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbmtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRoaXMuX25hbWUpXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5faWQpXHJcbiAgICB0aGlzLl9zZXRDYXJkSW1hZ2VMaXN0ZW5lcnMoKVxyXG4gICAgdGhpcy5fc2V0TGlrZUJ1dHRvbkxpc3RlbmVycygpXHJcbiAgICB0aGlzLl9zZXRUcmFzaEJ1dHRvbkxpc3RlbmVycygpXHJcbiAgICB0aGlzLl9jaGVja0xpa2VkKClcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnRcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9uc1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudFxyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fb3B0aW9ucy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKVxyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdGhpcy5fb3B0aW9ucy5pbnB1dEVycm9yQ2xhc3NcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB0aGlzLl9vcHRpb25zLmVycm9yQ2xhc3NcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB0aGlzLl9vcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3NcclxuICB9XG5cclxuICBfc2hvd0lucHV0RXJyb3IgKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2VcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpXHJcbiAgfVxuXHJcbiAgX2hpZGVJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKVxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKVxyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJydcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpXHJcbiAgfVxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSAoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICB9XHJcbiAgfVxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50cy5zb21lKFxyXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXHJcbiAgICApXHJcbiAgfVxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlICgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVGb3JtQnV0dG9uKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlRm9ybUJ1dHRvbigpXHJcbiAgICB9XHJcbiAgfVxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKClcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KVxyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgZGlzYWJsZUZvcm1CdXR0b24gKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcylcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWVcclxuICB9XG5cclxuICBlbmFibGVGb3JtQnV0dG9uICgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZVxyXG4gIH1cblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgfSlcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICB9XG5cclxuICByZXNldEZvcm1WYWxpZGF0aW9uICgpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IgKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLm1vZGFsX19jbG9zZS1idXR0b24nXHJcbiAgICApXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSlcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIG9wZW4gKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW5lZCcpXHJcbiAgfVxuXHJcbiAgY2xvc2UgKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX29wZW5lZCcpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCwgZGVmYXVsdEJ1dHRvblRleHQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KVxyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybScpXHJcbiAgICB0aGlzLl9wb3B1cEZvcm1JbnB1dHMgPVxyXG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19pbnB1dCcpXHJcbiAgICB0aGlzLl9wb3B1cEJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpXHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdFxyXG4gICAgdGhpcy5fZGVmYXVsdEJ1dHRvblRleHQgPSBkZWZhdWx0QnV0dG9uVGV4dFxyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0TGlzdGVuZXIgPSAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIHRoaXMuX3BvcHVwQnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLidcclxuICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpXHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9kZWZhdWx0QnV0dG9uVGV4dFxyXG4gICAgICAgICAgfSwgNTAwKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICB9XG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMgKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fVxyXG4gICAgdGhpcy5fcG9wdXBGb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWVcclxuICAgIH0pXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXNcclxuICB9XG5cclxuICBzZXRJbnB1dFZhbHVlcyAodXNlckRhdGEpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHVzZXJEYXRhW2lucHV0Lm5hbWVdXHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVTdWJtaXRMaXN0ZW5lcilcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcbn1cclxuIiwiLy8gSU1QT1JUU1xyXG5pbXBvcnQgeyBvcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnXHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcydcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJ1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcydcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJ1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcydcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcydcclxuaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnXHJcblxyXG4vLyBNT0RBTFNcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJyNhdmF0YXItbW9kYWwnLFxyXG4gIGF2YXRhckZvcm1TdWJtaXRIYW5kbGVyLFxyXG4gICdTYXZlJ1xyXG4pXHJcbmNvbnN0IHBvcHVwUHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnI2VkaXQtbW9kYWwnLFxyXG4gIHByb2ZpbGVGb3JtU3VibWl0SGFuZGxlcixcclxuICAnU2F2ZSdcclxuKVxyXG5jb25zdCBwb3B1cEFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJyNhZGQtbW9kYWwnLFxyXG4gIGFkZENhcmRGb3JtU3VibWl0SGFuZGxlcixcclxuICAnU2F2ZSdcclxuKVxyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcjZGVsZXRlLW1vZGFsJyxcclxuICBoYW5kbGVEZWxldGVTdWJtaXQsXHJcbiAgJ1llcydcclxuKVxyXG5jb25zdCBpbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjaW1hZ2UtbW9kYWwnKVxyXG5cclxuLy8gRk9STVNcclxuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zWydhdmF0YXItZm9ybSddXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2ZpbGUtZm9ybSddXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ2FkZC1jYXJkLWZvcm0nXVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nLFxyXG4gIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ1xyXG59KVxyXG5cclxuLy8gRk9STSBWQUxJREFUSU9OXHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBhdmF0YXJGb3JtKVxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIHByb2ZpbGVGb3JtKVxyXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGFkZENhcmRGb3JtKVxyXG5cclxuLy8gQ0FSRFNcclxuY29uc3QgY3VycmVudENhcmRJZCA9IHsgaWQ6ICcnIH1cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnM2Y0Mjg3Y2MtMDI2Ny00Zjg0LTgwZWQtODg2MjdhMWNjZTg0JyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pXHJcbmFwaVxyXG4gIC5yZXR1cm5EYXRhKClcclxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc10pID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKVxyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpXHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxyXG4gIH0pXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmRfX3RlbXBsYXRlJykuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBjYXJkVGVtcGxhdGUsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2ssXHJcbiAgICBoYW5kbGVMaWtlQnV0dG9uQ2xpY2tcclxuICApXHJcbiAgcmV0dXJuIG5ld0NhcmQuY3JlYXRlQ2FyZCgpXHJcbn1cclxuXHJcbi8vIFNFQ1RJT05cclxuY29uc3QgcmVuZGVyZXIgPSAoY2FyZERhdGEpID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KVxyXG59XHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihyZW5kZXJlciwgJy5nYWxsZXJ5X19jYXJkcycpXHJcblxyXG4vLyBCVVRUT05TXHJcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbWFnZS1idXR0b24nKVxyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJylcclxuY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJylcclxuXHJcbi8vIEZVTkNUSU9OU1xyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrIChldnQpIHtcclxuICBjb25zdCBpbWFnZURhdGEgPSB7XHJcbiAgICBuYW1lOiBldnQuYWx0LFxyXG4gICAgbGluazogZXZ0LnNyY1xyXG4gIH1cclxuICBpbWFnZU1vZGFsLm9wZW4oaW1hZ2VEYXRhKVxyXG59XHJcbmZ1bmN0aW9uIGF2YXRhckJ1dHRvbkNsaWNrSGFuZGxlciAoKSB7XHJcbiAgcG9wdXBBdmF0YXJGb3JtLm9wZW4oKVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdmF0YXJGb3JtU3VibWl0SGFuZGxlciAoYXZhdGFyTGluaykge1xyXG4gIGNvbnN0IGF2YXRhclVybCA9IGF2YXRhckxpbmsudXJsXHJcbiAgcmV0dXJuIGFwaVxyXG4gICAgLnBhdGNoQXZhdGFyKGF2YXRhclVybClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihhdmF0YXJVcmwpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBhdmF0YXJGb3JtVmFsaWRhdG9yLmRpc2FibGVGb3JtQnV0dG9uKClcclxuICAgICAgYXZhdGFyRm9ybS5yZXNldCgpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7ZXJyfWApXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0QnV0dG9uQ2xpY2tIYW5kbGVyICgpIHtcclxuICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKClcclxuICBjb25zb2xlLmxvZyhjdXJyZW50VXNlcilcclxuICBwb3B1cFByb2ZpbGVGb3JtLnNldElucHV0VmFsdWVzKGN1cnJlbnRVc2VyKVxyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZUZvcm1CdXR0b24oKVxyXG4gIHBvcHVwUHJvZmlsZUZvcm0ub3BlbigpXHJcbn1cclxuZnVuY3Rpb24gcHJvZmlsZUZvcm1TdWJtaXRIYW5kbGVyIChpbnB1dFZhbHVlcykge1xyXG4gIHJldHVybiBhcGlcclxuICAgIC5wYXRjaFVzZXJJbmZvKGlucHV0VmFsdWVzKVxyXG4gICAgLnRoZW4odXNlckluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMpKVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7ZXJyfWApXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDYXJkQnV0dG9uQ2xpY2tIYW5kbGVyICgpIHtcclxuICBwb3B1cEFkZENhcmRGb3JtLm9wZW4oKVxyXG59XHJcbmZ1bmN0aW9uIGFkZENhcmRGb3JtU3VibWl0SGFuZGxlciAoaW5wdXRWYWx1ZXMpIHtcclxuICBjb25zdCBjYXJkRGF0YSA9IHtcclxuICAgIG5hbWU6IGlucHV0VmFsdWVzLnRpdGxlLFxyXG4gICAgbGluazogaW5wdXRWYWx1ZXMudXJsXHJcbiAgfVxyXG4gIHJldHVybiBhcGlcclxuICAgIC5wb3N0TmV3Q2FyZChjYXJkRGF0YSlcclxuICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKG5ld0NhcmQpKVxyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZUZvcm1CdXR0b24oKVxyXG4gICAgICBhZGRDYXJkRm9ybS5yZXNldCgpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7ZXJyfWApXHJcbiAgICB9KVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrIChjYXJkSWQpIHtcclxuICBjdXJyZW50Q2FyZElkLmlkID0gY2FyZElkXHJcbiAgcG9wdXBEZWxldGUub3BlbigpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdCAoKSB7XHJcbiAgcmV0dXJuIGFwaVxyXG4gICAgLmRlbGV0ZUNhcmQoY3VycmVudENhcmRJZC5pZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgbGV0IGNhcmRUb1JlbW92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRDYXJkSWQuaWQpXHJcbiAgICAgIGNhcmRUb1JlbW92ZS5yZW1vdmUoKVxyXG4gICAgICBjYXJkVG9SZW1vdmUgPSBudWxsXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7ZXJyfWApXHJcbiAgICB9KVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VCdXR0b25DbGljayAoY2FyZElkLCBpc0xpa2VkLCB0b2dnbGVMaWtlKSB7XHJcbiAgY3VycmVudENhcmRJZC5pZCA9IGNhcmRJZFxyXG4gIGlmIChpc0xpa2VkKSB7XHJcbiAgICByZXR1cm4gYXBpXHJcbiAgICAgIC5yZW1vdmVMaWtlKGN1cnJlbnRDYXJkSWQuaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0b2dnbGVMaWtlKClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycilcclxuICAgICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGFwaVxyXG4gICAgICAuYWRkTGlrZShjdXJyZW50Q2FyZElkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlTGlrZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG4vLyBDTEFTUyBNRVRIT0QgQ0FMTEVSU1xyXG5cclxuaW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuXHJcbi8vIElOSVRJQUwgRVZFTlQgTElTVEVORVJTXHJcbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGF2YXRhckJ1dHRvbkNsaWNrSGFuZGxlcilcclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXRCdXR0b25DbGlja0hhbmRsZXIpXHJcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRDYXJkQnV0dG9uQ2xpY2tIYW5kbGVyKVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSlcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZScpXHJcbiAgICB0aGlzLl9wb3B1cERlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcubW9kYWxfX2ltYWdlLWZvb3RpbmcnXHJcbiAgICApXHJcbiAgfVxuXHJcbiAgb3BlbiAoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGlua1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBgVGhpcyBpcyBhIHBpY3R1cmUgb2YgJHtuYW1lfWBcclxuICAgIHRoaXMuX3BvcHVwRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBuYW1lXHJcbiAgICBzdXBlci5vcGVuKClcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yICh7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3RvcilcclxuICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3RvcilcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKVxyXG4gIH1cblxyXG4gIGdldFVzZXJJbmZvICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjXHJcbiAgICB9XHJcbiAgfVxuXHJcbiAgc2V0VXNlckluZm8gKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lXHJcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dFxyXG4gIH1cblxyXG4gIHNldFVzZXJBdmF0YXIgKGF2YXRhcikge1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBhdmF0YXJcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybFxyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVyc1xyXG4gIH1cblxyXG4gIF9yZXF1ZXN0ICh1cmwsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XG5cclxuICBfY2hlY2tSZXNwb25zZSAocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICB9XG5cclxuICBfZ2V0VXNlckF2YXRhciAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgX2dldFVzZXJEYXRhICgpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIF9nZXRJbml0aWFsQ2FyZHMgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXR1cm5EYXRhICgpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5fZ2V0VXNlckRhdGEoKSwgdGhpcy5fZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIH1cblxyXG4gIHBhdGNoVXNlckluZm8gKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXRcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgcGF0Y2hBdmF0YXIgKGF2YXRhckxpbmspIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJMaW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIHBvc3ROZXdDYXJkICh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cblxyXG4gIGRlbGV0ZUNhcmQgKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYWRkTGlrZSAoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgcmVtb3ZlTGlrZSAoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yIChyZW5kZXJlciwgZWxlbWVudFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRTZWxlY3RvcilcclxuICB9XG5cclxuICByZW5kZXJJdGVtcyAoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcclxuICAgIH0pXHJcbiAgfVxuXHJcbiAgYWRkSXRlbSAoaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSlcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIm9wdGlvbnMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2siLCJoYW5kbGVMaWtlQnV0dG9uQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrIiwiX2hhbmRsZUxpa2VCdXR0b25DbGljayIsIl9zZXRDYXJkSW1hZ2VMaXN0ZW5lcnMiLCJfY2FyZEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0xpa2VkIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJfdG9nZ2xlTGlrZSIsInRvZ2dsZSIsIl9zZXRMaWtlQnV0dG9uTGlzdGVuZXJzIiwiX3NldFRyYXNoQnV0dG9uTGlzdGVuZXJzIiwiX3RyYXNoQnV0dG9uIiwiY3JlYXRlQ2FyZCIsIl9jYXJkRWxlbWVudCIsImNsb25lTm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZERlc2MiLCJ0ZXh0Q29udGVudCIsInNyYyIsInNldEF0dHJpYnV0ZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9vcHRpb25zIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0RWxlbWVudHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlRm9ybUJ1dHRvbiIsImVuYWJsZUZvcm1CdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZXNldEZvcm1WYWxpZGF0aW9uIiwiUG9wdXAiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImtleSIsImNsb3NlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiZGVmYXVsdEJ1dHRvblRleHQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfcG9wdXBGb3JtSW5wdXRzIiwiX3BvcHVwQnV0dG9uIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZGVmYXVsdEJ1dHRvblRleHQiLCJfaGFuZGxlU3VibWl0TGlzdGVuZXIiLCJpbnB1dFZhbHVlcyIsIl9nZXRJbnB1dFZhbHVlcyIsInRoZW4iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJzZXRUaW1lb3V0IiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwidXNlckRhdGEiLCJwb3B1cEF2YXRhckZvcm0iLCJhdmF0YXJMaW5rIiwiYXZhdGFyVXJsIiwidXJsIiwiYXBpIiwicGF0Y2hBdmF0YXIiLCJ1c2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybSIsInJlc2V0IiwiUHJvbWlzZSIsInJlamVjdCIsInBvcHVwUHJvZmlsZUZvcm0iLCJwYXRjaFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cEFkZENhcmRGb3JtIiwiY2FyZERhdGEiLCJ0aXRsZSIsInBvc3ROZXdDYXJkIiwibmV3Q2FyZCIsInNlY3Rpb24iLCJhZGRJdGVtIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybSIsInBvcHVwRGVsZXRlIiwiZGVsZXRlQ2FyZCIsImN1cnJlbnRDYXJkSWQiLCJjYXJkVG9SZW1vdmUiLCJnZXRFbGVtZW50QnlJZCIsImltYWdlTW9kYWwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cERlc2NyaXB0aW9uIiwiYWx0IiwiZm9ybXMiLCJwcm9maWxlRm9ybSIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dEVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImdldFVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJfcmVmMiIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX3JlcXVlc3QiLCJmZXRjaCIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwic3RhdHVzIiwiX2dldFVzZXJBdmF0YXIiLCJfZ2V0VXNlckRhdGEiLCJfZ2V0SW5pdGlhbENhcmRzIiwicmV0dXJuRGF0YSIsImFsbCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJhdXRob3JpemF0aW9uIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInJlbmRlcmVyIiwiZWxlbWVudFNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsInByZXBlbmQiLCJjYXJkRWxlbWVudCIsImF2YXRhckJ1dHRvbiIsImVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiaW1hZ2VEYXRhIiwidG9nZ2xlTGlrZSIsImN1cnJlbnRVc2VyIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==